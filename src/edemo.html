<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>驾车路线规划结果完整展示</title>
    <style type="text/css">
        html,body{width:100%;height:100%;overflow:hidden;margin:0;padding:0px;font-size: 12px;color: #333333;}
        #map{width:75%;height:100%;overflow:hidden;margin:0;padding:0px;float:left;border-right: 2px solid #bcbcbc;}
        #rightPanel{width:23%;height:100%;overflow:auto;margin:0;padding:0px;float:left;}
    </style>
</head>
<body>
<div id="map"></div>
<div id="rightPanel"></div>
</body>
</html>
<script src="https://mapapi.careland.com.cn/api/?key=6012dcd6278a2d4db3840604&v=1.3"></script>
<script type="text/javascript">
    //凯立德地图API功能
    var point = new Careland.Point(411067452,81446126);	//创建坐标点
    var map = new Careland.Map('map', point, 12); //实例化地图对象
    map.enableAutoResize(); //启用自动适应容器尺寸变化
    map.load();
    var opts = {
        "map" : map,
        "autoDragging" : true,
        "policy" : CLDMAP_DRIVING_POLICY_SYSTEM_DEFAULT,
        "multi":1,
        "onSearchComplete" : function(obj){
            var point_num = 0;
            var pointData =[]
            var plan = obj.getPlan(0);
            for(var i in plan.uidinfo){
                for(var j in plan.uidinfo[i].shapepoint){
                    pointData.push(new Careland.Point(plan.uidinfo[i].shapepoint[j].x,plan.uidinfo[i].shapepoint[j].y))
                }
            }
            console.log(obj,pointData)
        }
    };
    var Driving = new Careland.DrivingRoute(map, opts);

    var start = new Careland.Point(411067452,81446126);
    var end = new Careland.Point(411916571,82265803);
    Driving.search(start,end);
</script>