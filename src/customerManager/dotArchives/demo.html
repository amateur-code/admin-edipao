<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://mapapi.careland.com.cn/api/?key=6012dcd6278a2d4db3840604&v=1.3"></script>
  <script src="./js/line.js"></script>
</head>
<body>
  <div id="map" style="width: 800px;height:500px;"></div>
  <button id="button">下载</button>
  <script>
    var point = new Careland.Point(419364916, 143908009);    //创建坐标点
    var map = new Careland.Map('map', point, 12); 
    map.enableAutoResize();                                 //启用自动适应容器尺寸变化
    map.load(); 
    var points = [];
    for(var i in line){
      var point = Careland.DrawTool.GbPointToKldPoint(line[i].lng, line[i].lat);
      points.push(new Careland.Point(point.x, point.y));
    }
    var layer = new Careland.Layer('polyline', 'layer');		           //创建折线图层
    map.addLayer(layer);										           //将图层添加到地图上
    var polyline = new Careland.Polyline();  							   //创建折线
    polyline.setPoints(points);									//设置折线经过的点
    polyline.setStyle(new Careland.LineStyle({color:'#000000',size:6,opacity:40}));		//设置折线的样式
    layer.add(polyline);
  </script>
</body>
</html>